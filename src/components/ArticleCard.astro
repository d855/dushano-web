---
import { formatRelativeDate } from "../utils/dateUtils";
import { getReadingTime } from "../utils/textUtils";

interface Props {
    title: string;
    url: string;
    publishDate?: string;
    content?: string;
}

const { title, url, publishDate, content } = Astro.props;
const relativeDate = publishDate ? formatRelativeDate(publishDate) : '';
const readingTime = content ? getReadingTime(content) : '3 min read'; // Default fallback
---

<article class="relative border border-dashed border-neutral-300 py-3 px-4  dark:bg-black transition-all duration-200 flex flex-col justify-between hover:border-neutral-800">
    <div class="flex flex-col justify-between gap-5 h-full">
        <h3 class="w-full font-medium">
            {title}
        </h3>
        <div class="flex justify-between text-sm">
            <span>{readingTime}</span>

            <span>{relativeDate}</span>
        </div>
    </div>
    <a href={url} aria-label="Read full story" class="absolute inset-0"></a>
</article>
